//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
#include "input_handler.h"
#include <input\input_manager.h>
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
void InputHandler::Init()
{
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
bool InputHandler::IsController(gef::InputManager& input_manager)
{
	//if controller exists
	const gef::SonyControllerInputManager* controller_input = input_manager.controller_input();

	if (controller_input)
	{
		controller = controller_input->GetController(0);

		if (controller)
			return true;
	}
	
	return false;
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
bool InputHandler::ControllerButtonPressed(gef::InputManager& input_manager, int button_ID)
{
	//If the user presses the requested button
	if (IsController(input_manager))
	{
		if (controller->buttons_pressed() &button_ID)
			return true;
			else
				return false;
	}
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
bool InputHandler::ControllerButtonReleased(gef::InputManager& input_manager, int button_ID)
{
	//If the user released the requested button
	if (IsController(input_manager))
	{
		if (controller->buttons_released() &button_ID)
			return true;
		else
			return false;
	}
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//Get the right analogue input in the Y direction
float InputHandler::RightStickY(gef::InputManager& input_manager)
{
	if (IsController(input_manager))
	{
		int tmp = controller->right_stick_y_axis();

		return tmp;
	}
	return 0;
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//Get the right analogue input in the X direction
float InputHandler::RightStickX(gef::InputManager& input_manager)
{
	if (IsController(input_manager))
	{
		int tmp = controller->right_stick_x_axis();

		return tmp;
	}
	return 0;
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//Get the left analogue input in the Y direction
float InputHandler::LeftStickY(gef::InputManager& input_manager)
{
	if (IsController(input_manager))
	{
		int tmp = controller->left_stick_y_axis();

		return -tmp;
	}
	return 0;
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//

//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//Get the left analogue input in the X direction
float InputHandler::LeftStickX(gef::InputManager& input_manager)
{
	if (IsController(input_manager))
	{
		int tmp = controller->left_stick_x_axis();

		return tmp;
	}
	return 0;
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------------------------------------//



